#Linux编程笔记

**C的基本类型**就是：整数  小数  unsigned  signed   运算符号 类型都比较简单，所有的劝你性能类型都是使用typedef来重新定义。见到新的类型，要懂它的C的原型。

**类型重定义的好处**
+ 维护方便
+ 便于移植
+ 容易理解


##映射虚拟内存
linux整个内存技术采用的是虚拟技术。

没有任何额外维护数据的内存分配：
+ mmap(分配)
+ unmap(释放)

mmap函数中的length  = 4k（内存/4k  + 1）

**函数说明**

void *mmap(void *start,size_t length,int prot,int flags,int fd,offset_t off);

flag指映射方式，包括：
+ 内存映射：匿名映射
+ 文件映射：映射到某个文件

    >只有文件映射最后两个参数有效，映射的开始位置必须是pagesize的倍数。
    >MAP_ANONYMOUS（内存或文件映射的标志） MAP_SHARED  MAP_PRIVATE （后面两个二选一）
    
数组和指针主要的区别：一个是变量 一个是常量

**总结**
选择什么样的内存管理方法：
+ 智能指针（指针池）
+ STL
+ new
+ malloc(小而多的数据)
+ brk/sbrk(同类型的大块数据，可以根据需要动态的移动指针)
+ mmap/munmap(控制内存的访问方式/内存直接使用文件映射/控制内存的共享)

    >速度最快，效率最高的是最后两个
    
##编程工具与动态库
###gcc

编译过程中，自动调用连接器（ld）。
    
    > -o 
    > -O -O0 -O1 -O2 -O3 编译优化
    > -g -g0 -g1 -g2 -g3 产生调试信息
    > -W all error 
    > -Wall 显示所有警告
    > -Werror 把警告当错误
    > -w 关闭警告
    > -c 只编译不连接
    > -E 预编译
    > -S 汇编
    > -D 在命令行定义宏
    
定义宏的两种方式：在代码中定义宏，在命令行中定义宏

编译器主题选项：

1. 静态库编译（static ar工具 ）
2. 动态库编译

###make
###gdb
###其他工具
###动态库

    
